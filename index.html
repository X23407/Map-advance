<!DOCTYPE html>
<html lang="en">
<head>
  <script src="canvasManager.js"></script>
  <script src = "canvasShapeCreater.js"></script>
  <script src="chunckSystem.js"></script>
  <script src = "dataPasser.js"></script>
  <script src="popUpManager.js"></script>
  <meta charset="UTF-8">
  <title>Interactive Map</title>
  <style>
    

  </style>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!--Search-->
  <div id="customPrompt" class="prompt-overlay">
    <div class="prompt-box">
      <div style = "color: aliceblue;" class = "heading">Enter Coords in form 0 0</div>
      <input type="text" id="promptInput" placeholder="Search Here...." />
      <input type="button" id = "prompt-switch-button" value = "Coords" onclick="canvasM.coord_switcher()">
      <br />
      <button onclick="popup.submitSearch()" class = "overlay-btn">Go!</button>
      <button onclick="popup.submitSearch('close')" class = "overlay-btn">Cancel</button>
      <button onclick="canvasM.nearestCity()" class = "overlay-btn">Nearest Place</button>
      </div>
  </div>

  <!--Add new location-->
  <div id="customPromptAdd" class="prompt-overlay">
    <div class="prompt-box">
      <div style = "color: aliceblue;" class = "heading">Add</div>
      <div class = "form">
        <label for="name" class = "add-label">Place Name</label>
        <input type="text" id = "place-add" placeholder = "New Delhi" class = "add-input"> <br>
        <label for="Coords" class = "add-label" style="margin-left: 10%;">Coords</label>
        <input type="text" placeholder = "500 500" id = "coord-add" class = "add-input"> <br>
        <label for="Color" class = "add-label">Color</label>
        <input type="color" placeholder = "500 500" class = "add-input" id = "color-add" value = "green" style="margin-left: 5%;"> <br>
      </div>
      <button onclick="canvasM.addOkCancek('go')" class = "overlay-btn">Go!</button>
      <button onclick="canvasM.addOkCancek('cancel')" class = "overlay-btn">Cancel</button>
      <button onclick="canvasM.addOkCancek()" class = "overlay-btn">Add</button>
      <!-- <button onclick="canvasM.submitSearch()">OK</button>
      <button onclick="canvasM.submitSearch('close')">Cancel</button> -->
      </div>
  </div>

  <!-- Rename location -->
  <div id="customPromptRename" class="prompt-overlay">
    <div class="prompt-box">
      <div style = "color: aliceblue;" class = "heading">Rename</div>
      <div class = "form">
        <label for="name" class = "add-label">Old Name</label>
        <input type="text" id = "place-old" placeholder = "Delhi" class = "add-input"> <br>
        <label for="newName" class = "add-label" >New Name</label>
        <input type="text" id = "place-new" placeholder = "New Delhi" class = "add-input"> <br>
        <label for="Coords" class = "add-label" >New Coords</label>
        <input type="text" placeholder = "500 500" id = "coord-new" class = "add-input"> <br>
        <label for="Color" class = "add-label">Color</label>
        <input type="color" placeholder = "500 500" class = "add-input" id = "color-new" value = "green" style="margin-left: 5%;"> <br>
      </div>
      <button onclick="canvasM.renameOkCancel('go')" class = "overlay-btn">Go!</button>
      <button onclick="canvasM.renameOkCancel('cancel')" class = "overlay-btn">Cancel</button>
      <button onclick="canvasM.renameOkCancel()" class = "overlay-btn">Add</button>
      <!-- <button onclick="canvasM.submitSearch()">OK</button>
      <button onclick="canvasM.submitSearch('close')">Cancel</button> -->
      </div>
  </div>


  <div class = "overlay" id = "overlay">
    <div class="overlay-content">
      <h2>Debugg Mode</h2>
      <p id = "paraDebugg" style="word-wrap:break-word;overflow: scroll;">This is a paragraph. of 22 x pp dsnksmdmk ddkfsnfos dosmda saoskma dossdm skdmaod aoinm jn         ddfnd fod sdods did asdosd sod </p>
      <button onclick="document.getElementById('overlay').style.display = 'none'"></button>
    </div>
  </div>
  <div id = "map-popup">
        <div id = "scale">Scale : 100</div>
        <div id = "coord">coord : 160 139</div>
        
        <input type="button" value = "Add" onclick="canvasM.addPoint()" class="overlay-btn">
        <input type="button" value="More" onclick="popup.popupCreater()" class = "overlay-btn">

    </div>
<canvas id="mapCanvas" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById("mapCanvas");
canvas.width = window.innerWidth - window.innerWidth *(2.9/100);
canvas.height = window.innerHeight - window.innerHeight *(5/100);

data = new dataPasser();
chunkHandler = new chunckSystem(data);
marker = new canvasShapeCreater(data);
canvasM = new canvasManager(marker,chunkHandler,data);
data.marker = marker;
canvasM.initate(0,0);
document.getElementById("scale").innerHTML = data.scale*1000;
let popup = new popUpManager(data);
popup.popupCreater()


// canvasM.debug();






</script>
</body>
</html>
